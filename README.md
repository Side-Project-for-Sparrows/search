# 🏗️ HighSchool Community - MSA Backend

이 프로젝트는 **고등학생을 위한 커뮤니티 플랫폼**입니다.  
초기에는 모놀리식한 아키텍쳐를 채용하되, 점진적으로 마이크로서비스 아키텍처(MSA)로 설계할 예정이며,<br>
**각 서비스가 독립적으로 동작**하면서도 API Gateway를 통해 통합 관리될 수 있도록 하는것을 목표로 합니다.

---

## 📌 Architecture Overview

### **🛠️ 기술 스택**
- **언어:** Golang / Java / Swift
- **프레임워크:** Spring Boot
- **DB:** PostgreSQL / MongoDB
- **검색 엔진:** Elasticsearch
- **메시징 시스템:** Kafka
- **API Gateway:** KrakenD / Kong Gateway / Traefik
- **캐싱:** Redis
- **인프라:** Kubernetes / Docker

---

## 🏗️ 서비스 구성 (Microservices)

### **🔹 API Gateway (Golang)**
- 모든 요청을 중앙에서 관리하고, 각 서비스로 라우팅
- **JWT 기반 인증**을 적용하여, 사용자 검증 부하 감소
- **로그인 요청 제한** 기능 추가

---

### **🔹 학교 서비스**
1. **학교 순위 시스템**
   - 가입수, 가입 비율, 활동성을 기준으로 **학교 순위 계산**
   - 배치 작업 vs 실시간 업데이트 (캐싱 활용)
   - 학교 랭킹을 통한 **보상 시스템** 고려

2. **학교 선택 기능**
   - 졸업 후에도 커뮤니티 활동 가능하도록 **중학교, 고등학교 선택 기능 추가**

3. **학교별 배지 시스템** (❗보류)

---

### **🔹 유저 서비스**
1. **사용자 인증 시스템**
   - **학교 수업 시간(09:00 ~ 16:00) 내에만 가입 가능**
   - **휴대폰 본인인증** (중학생~고등학생 대상)
   - 학원 선생님 홍보 제한을 위한 공공기관 API 조사 필요

2. **유저 탈퇴 처리**
   - 탈퇴 후, 관련 게시물은 **익명화 처리 (nickname, userID, password → null)**

3. **비밀번호 초기화 시스템**
   - 본인 인증 → 임시 비밀번호 발급 → 로그인 후 변경 가능

---

### **🔹 채널 서비스**
- **게시판 검색 (Elasticsearch)**
  - 제목 및 설명에서 키워드 검색
  - **우선순위 정렬 알고리즘 고려** (활동성, 조회수 기반)

- **게시판 관리**
  - URL Slug 또는 Tiny URL 방식 도입 고려
  - **게시판 삭제 조건**:
    - 방장만 남은 경우
    - 일정 기간 동안 게시글이 없는 경우
    - 신고 누적으로 운영자가 삭제 결정

- **대댓글 기능**

- **신고 / 추방 시스템**
  - 블랙리스트 유저 지속적인 접근 시도 → **블룸필터 적용하여 비효율적인 검증 최소화**

---

### **🔹 커뮤니티 서비스**
✅ 기본 제공 커뮤니티  
- **학교 전체 커뮤니티 (예: 하나고)**  
- **전체 학교 커뮤니티 (예: 하나고, 오토고 등)**  
- **중고거래 게시판**  
- **학원 리뷰 게시판** (스마트 플레이스 형식)  
  - 학원별 1개의 메인 글 + 댓글 형식 리뷰  
  - **인근 학원만 리스트에 표시**  
  - 타학교 학생들의 리뷰도 열람 가능  

✅ **사설 커뮤니티 생성 기능**  
- **학년별 커뮤니티**  
- **반별 커뮤니티**  

---

### **🔹 일정 서비스**
- **공용 달력 시스템**
  - 숙제 기한 및 시험 일정 공유 가능
  - 같은 그룹에 속한 친구들의 일정 자동 반영
  - Dirty Bit을 활용하여, 필요할 때만 달력 새로고침

---

### **🔹 운영자 서비스**
- **신고 접수 내역 확인 페이지**
- **운영자 신고 처리 시스템**

---

### **🔹 알람 서비스**
- **내 게시물에 댓글이 달렸어요**
- **내가 신고를 당했어요**
- **운영자: 신고 요청 확인**
- **인프라 사용률 초과 알람**
- **에러율 증가 감지 알람**

---

## 🚀 프로젝트 목표
✔️ JWT 기반 인증을 활용하여 **사용자 검증 부하 감소**  
✔️ 학교 랭킹 시스템 도입을 통해 **활성화 유도**  
✔️ Elasticsearch를 활용한 **효율적인 게시판 검색**  
✔️ 블룸필터를 이용한 **효율적인 요청**  

---

## 📜 프로젝트 진행 상황
📌 **GitHub Projects:** [프로젝트 관리 보드](https://github.com/orgs/Side-Project-for-Sparrows/projects/1/views/1)  

---

## 👥 기여 방법
1. 이슈 확인 후 **Fork**  
2. 브랜치 생성 (`feature/서비스명-기능`)  
3. PR 생성 후 코드 리뷰 요청  
4. Merge 후 로컬 `main` 브랜치 업데이트  
